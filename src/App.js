import React, { useEffect, useState } from 'react';
import { Whiteboard } from './lib/index.js';
import styles from './app.module.scss';

const initJSON = `{"version":"5.3.0","objects":[{"type":"path","version":"5.3.0","originX":"left","originY":"top","left":110.5,"top":201.5,"width":115,"height":124,"fill":null,"stroke":"#000000","strokeWidth":5,"strokeDashArray":null,"strokeLineCap":"round","strokeDashOffset":0,"strokeLineJoin":"round","strokeUniform":false,"strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"backgroundColor":"","fillRule":"nonzero","paintFirst":"fill","globalCompositeOperation":"source-over","skewX":0,"skewY":0,"path":[["M",112.995,204],["Q",113,204,115.5,204],["Q",118,204,121,204],["Q",124,204,128.5,204],["Q",133,204,139,204],["Q",145,204,151,204],["Q",157,204,165.5,204],["Q",174,204,181.5,204],["Q",189,204,192,204],["Q",195,204,200.5,204],["Q",206,204,208.5,204],["Q",211,204,214,204],["Q",217,204,219.5,204],["Q",222,204,223.5,204],["Q",225,204,226,204],["Q",227,204,227.5,204],["Q",228,204,228,204.5],["Q",228,205,228,206],["Q",228,207,228,209.5],["Q",228,212,226.5,215],["Q",225,218,222,222.5],["Q",219,227,215,232],["Q",211,237,205,243.5],["Q",199,250,193,256.5],["Q",187,263,180,270.5],["Q",173,278,170.5,281],["Q",168,284,155.5,297],["Q",143,310,139.5,313],["Q",136,316,134,318.5],["Q",132,321,131,322.5],["Q",130,324,129,325],["Q",128,326,127.5,326.5],["Q",127,327,127,327.5],["Q",127,328,127.5,328],["Q",128,328,130,328],["Q",132,328,136.5,328],["Q",141,328,144.5,327.5],["Q",148,327,151,326.5],["Q",154,326,159.5,325.5],["Q",165,325,170,325],["Q",175,325,180.5,324.5],["Q",186,324,191,324],["Q",196,324,200,324],["Q",204,324,205.5,324],["Q",207,324,209.5,324],["Q",212,324,214,324],["Q",216,324,217.5,324],["Q",219,324,220,324],["L",221.005,324]]},{"type":"path","version":"5.3.0","originX":"left","originY":"top","left":113.5,"top":474.5,"width":103,"height":105,"fill":null,"stroke":"#000000","strokeWidth":5,"strokeDashArray":null,"strokeLineCap":"round","strokeDashOffset":0,"strokeLineJoin":"round","strokeUniform":false,"strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"backgroundColor":"","fillRule":"nonzero","paintFirst":"fill","globalCompositeOperation":"source-over","skewX":0,"skewY":0,"path":[["M",133.995,477],["Q",134,477,134.5,477],["Q",135,477,137,477],["Q",139,477,140.5,477],["Q",142,477,145.5,477],["Q",149,477,152,477],["Q",155,477,158,477],["Q",161,477,164,477],["Q",167,477,168,477],["Q",169,477,170.5,477],["Q",172,477,174,477],["Q",176,477,176.5,477],["Q",177,477,177.5,477],["Q",178,477,178,477.5],["Q",178,478,176.5,480.5],["Q",175,483,172,487.5],["Q",169,492,166,497.5],["Q",163,503,158.5,510.5],["Q",154,518,149.5,525.5],["Q",145,533,143,537],["Q",141,541,137.5,547.5],["Q",134,554,130.5,559],["Q",127,564,126,566],["Q",125,568,123,570.5],["Q",121,573,120,575],["Q",119,577,118.5,578],["Q",118,579,117.5,579.5],["Q",117,580,116.5,580.5],["Q",116,581,116,581.5],["Q",116,582,117,582],["Q",118,582,120,582],["Q",122,582,125.5,582],["Q",129,582,132.5,582],["Q",136,582,140.5,582],["Q",145,582,154.5,582],["Q",164,582,167.5,582],["Q",171,582,177,582],["Q",183,582,188,582],["Q",193,582,198,582],["Q",203,582,205,582],["Q",207,582,209.5,582],["Q",212,582,214,582],["Q",216,582,217.5,582],["L",219.005,582]]},{"type":"path","version":"5.3.0","originX":"left","originY":"top","left":189.5,"top":392.5,"width":101,"height":84,"fill":null,"stroke":"#000000","strokeWidth":5,"strokeDashArray":null,"strokeLineCap":"round","strokeDashOffset":0,"strokeLineJoin":"round","strokeUniform":false,"strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"backgroundColor":"","fillRule":"nonzero","paintFirst":"fill","globalCompositeOperation":"source-over","skewX":0,"skewY":0,"path":[["M",242.005,430],["Q",242,430,241,430],["Q",240,430,239.5,430],["Q",239,430,237,430],["Q",235,430,234,430],["Q",233,430,231.5,430],["Q",230,430,227.5,430],["Q",225,430,223,430],["Q",221,430,218.5,430],["Q",216,430,214,430],["Q",212,430,210,430],["Q",208,430,206,430],["Q",204,430,203,431.5],["Q",202,433,200.5,434.5],["Q",199,436,197.5,437.5],["Q",196,439,195,441.5],["Q",194,444,193.5,446.5],["Q",193,449,192.5,451.5],["Q",192,454,192,458],["Q",192,462,192,464],["Q",192,466,192,466.5],["Q",192,467,192,469.5],["Q",192,472,192,473],["Q",192,474,192,475],["Q",192,476,192.5,477],["Q",193,478,195,478.5],["Q",197,479,198,479],["Q",199,479,201.5,479],["Q",204,479,207,479],["Q",210,479,214,478],["Q",218,477,226,473.5],["Q",234,470,236.5,468.5],["Q",239,467,244.5,464],["Q",250,461,255,457.5],["Q",260,454,264,451],["Q",268,448,272,444.5],["Q",276,441,279.5,438],["Q",283,435,285,432.5],["Q",287,430,288.5,426.5],["Q",290,423,291,420.5],["Q",292,418,292.5,414.5],["Q",293,411,293,408.5],["Q",293,406,292,400.5],["L",290.995,394.995]]}]}`;
const secondJSON = `{"version":"5.3.0","objects":[{"type":"path","version":"5.3.0","originX":"left","originY":"top","left":138.5,"top":171.5,"width":139,"height":75,"fill":null,"stroke":"#000000","strokeWidth":5,"strokeDashArray":null,"strokeLineCap":"round","strokeDashOffset":0,"strokeLineJoin":"round","strokeUniform":false,"strokeMiterLimit":10,"scaleX":1,"scaleY":1,"angle":0,"flipX":false,"flipY":false,"opacity":1,"shadow":null,"visible":true,"backgroundColor":"","fillRule":"nonzero","paintFirst":"fill","globalCompositeOperation":"source-over","skewX":0,"skewY":0,"path":[["M",161,195.995],["Q",161,196,160,196.5],["Q",159,197,159,197.5],["Q",159,198,159,198.5],["Q",159,199,159,199.5],["Q",159,200,159,200.5],["Q",159,201,159,201.5],["Q",159,202,159,202.5],["Q",159,203,159,203.5],["Q",159,204,159,205],["Q",159,206,159,207],["Q",159,208,159,209],["Q",159,210,159,211.5],["Q",159,213,160,214.5],["Q",161,216,161.5,217],["Q",162,218,163,219.5],["Q",164,221,164.5,222],["Q",165,223,165.5,223.5],["Q",166,224,168,226.5],["Q",170,229,171,230],["Q",172,231,174,232.5],["Q",176,234,177.5,235],["Q",179,236,180.5,237],["Q",182,238,183.5,239],["Q",185,240,186,240.5],["Q",187,241,188.5,241.5],["Q",190,242,192,243],["Q",194,244,195.5,245],["Q",197,246,198.5,246.5],["Q",200,247,201.5,247.5],["Q",203,248,207,248.5],["Q",211,249,213,249],["Q",215,249,217,249],["Q",219,249,221.5,249],["Q",224,249,226,249],["Q",228,249,230.5,249],["Q",233,249,235.5,249],["Q",238,249,240.5,249],["Q",243,249,244.5,249],["Q",246,249,249.5,248],["Q",253,247,255.5,246.5],["Q",258,246,260,245],["Q",262,244,262.5,243.5],["Q",263,243,265,242.5],["Q",267,242,269.5,240],["Q",272,238,272.5,237.5],["Q",273,237,274,235.5],["Q",275,234,276,233],["Q",277,232,278,229.5],["Q",279,227,279.5,226.5],["Q",280,226,280,224.5],["Q",280,223,280,221.5],["Q",280,220,280,217.5],["Q",280,215,280,213.5],["Q",280,212,279,210],["Q",278,208,277,206],["Q",276,204,274.5,202.5],["Q",273,201,271,199],["Q",269,197,267,194.5],["Q",265,192,262.5,190],["Q",260,188,257.5,185.5],["Q",255,183,253,181.5],["Q",251,180,248.5,179],["Q",246,178,243.5,177],["Q",241,176,238.5,175],["Q",236,174,232.5,174],["Q",229,174,226.5,174],["Q",224,174,221,174],["Q",218,174,214,174],["Q",210,174,207,174],["Q",204,174,201,175],["Q",198,176,194,177.5],["Q",190,179,186,181.5],["Q",182,184,178.5,186.5],["Q",175,189,171.5,191],["Q",168,193,165,196],["Q",162,199,159,201.5],["Q",156,204,154,206.5],["Q",152,209,151,210],["Q",150,211,148.5,212.5],["Q",147,214,145.5,215.5],["Q",144,217,143.5,218.5],["Q",143,220,142.5,220.5],["Q",142,221,141.5,222],["Q",141,223,141,224.5],["Q",141,226,141,227],["Q",141,228,144.5,233],["L",148.005,238.005]]}]}`;

const App = () => {
  const [settings, setSettings] = useState();

  useEffect(() => {
    setSettings({ contentJSON: initJSON });
    setTimeout(() => {
      setSettings({ contentJSON: secondJSON });
    }, 1000);
  }, []);

  return (
    <div className={styles.app}>
      <main>
        <Whiteboard settings={settings} />
      </main>
    </div>
  );
};

export default App;
